### 2024090904002-胡杨-CS-05 

#### 课前准备

见 preclass.c

#### 任务 1

- 为什么会出现这样的现象（指 0.1 + 0.2 != 0.3 ）？
  - 计算机存储小数的时候，采用的是基于二进制的科学计数法。小数点后 n 位的 1 代表的是 $2^{-n}$。此时，注意到 $1/10$ 不能写成有限位二进制表示，则必然会发生截断。同理 $1/5$ 也会发生截断而产生精度丢失，导致了上面柿子的成立。
  - 因此，在判断两个浮点数是否相等的时候，应当考虑的是二者的差是否在一个合理的区间内，而不是直接选择用 “==” 进行判断。
-  该如何获得精确值呢？
  - 可以采取使用类似高精度整形数的存储方式，用字符数组储存、重写四则运算的方式。

- 课前热身：见 task1.c 。

#### 任务 2

- 自定义见 define.c 
- 结构体内存布局：以最长的数据类型为基本单位，每次尝试给成员分配空间的时候，先优先考虑之前分配余下的空间够不够，不够再选择分配一个基本单位量的空间。（如此分配的原因是为了尽可能自然对齐）因此，我在构建结构体的时候，选择使用尽可能小的单位使浪费的空间尽可能小。
- step1 ：见 task2_1.c
- step2 ：见 task2_2.c

#### 任务 3 

见 step3.c

